/*
select top 10 * from TCOM_DEE1PR
where pros_cod = 165
32340

pros_cod = codigo do produto

insert into TCOM_DEE1PR (dee1_cod, pros_cod, dee1_nme) values (32340,165,'XXX')
insert into TCOM_DEE1PR (dee1_cod, pros_cod, dee1_nme) values (323409,200000,'XXX')
2172
select max(des1_cod) from dbo.TCOM_DES1PR

--insert into dbo.TCOM_DEP1PR(pros_cod, des1_cod) values (165, 2173)
select top 10 * from dbo.TCOM_DEP1PR where des1_cod = 2172

--insert into TCOM_DES1PR (
--	des1_cod, des1_nme, DES1_CHR_SN_SELPDS, DESG_COD) 
--values (2173, 'XXX', 'S', 1) 
--)

delete from TCOM_DEP1PR where des1_cod = 2173
delete from TCOM_DEE1PR where dee1_cod = 32340
delete from TCOM_DES1PR where des1_cod = 2173

select top 3 * from TCOM_DEP1PR order by 2 desc
select top 3 * from TCOM_DEE1PR order by 1 desc
select top 3 * from TCOM_DES1PR order by 1 desc

exec PCOM_C_DEP1PR 'I',  
'BLC19P'

dep1
des1  -- 1273 1823

select top 10  * from TCOM_DEE1PR
*/

SELECT * FROM TCOM_PROSER PROD WHERE PROD.PROS_EXT_COD = '13252'
	
SELECT * FROM TCOM_DES1PR DES1 WHERE RTRIM(LTRIM(DES1.DES1_NME)) = '02404FBA'

SELECT * FROM TCOM_DEP1PR DP1 WHERE DP1.PROS_COD = 2705 AND DP1.DES1_COD = 393

SELECT * FROM TCOM_DEE1PR DP1 WHERE DP1.PROS_COD = 867 

	
-- ESSA
SELECT * FROM TCOM_DEP1PR DP1 WHERE DP1.PROS_COD = 3
-- ESSA
SELECT * FROM TCOM_DES1PR DS1 WHERE DS1.DES1_COD IN (490, 1111, 1527, 1638) --CRD48D / CRM30D / CRM44D / CRP34A / CRP38A

-- ESSA
SELECT 
	PROD.PROS_COD, PROD.PROS_EXT_COD, PROD.PROS_NOM, PROD.PROS_NOM_RED, DS1.* 
FROM 
	TCOM_DEP1PR DP1 
	INNER JOIN TCOM_DES1PR DS1 ON DS1.DES1_COD = DP1.DES1_COD
	INNER JOIN TCOM_PROSER PROD ON PROD.PROS_COD = DP1.PROS_COD
WHERE 
	PROD.PROS_EXT_COD = '151934005'
	AND DP1.DES1_COD = 2181 
	
-- ESSA
SELECT * FROM TCOM_DEE1PR WHERE PROS_COD = 3
-- ESSA
SELECT * FROM TCOM_DEU1PR 

-- INSERIR O DESCRITOR
-- ESSA
DECLARE @L_COD_DESCRITOR INTEGER, @L_NOM_DESCRITOR VARCHAR(100), @x integer
exec @x = dbo.PCOM_C_DES1PR  'I', @L_COD_DESCRITOR OUTPUT, 'ADRIANA4', 'S', 1, NULL
SELECT @L_COD_DESCRITOR, @x

SELECT * FROM TCOM_DES1PR ORDER BY 1 DESC

-- INSERIR A ASSOCIACAO DO DESCRITOR COM O PRODUTO
--ESSA X
EXEC dbo.PCOM_C_DEP1PR 'I', 4, 2169
--ESSA (EM SUBSTITUI A X)
INSERT INTO TCOM_DEP1PR (PROS_COD, DES1_COD) VALUES (3, 2181) 

-- NÃO SEI O QUE É, MAS...
-- ESSA
DECLARE @L_COD_DEE INTEGER, @x integer
EXEC @x = dbo.PCOM_C_DEE1PR 'I', @L_COD_DEE OUTPUT, 4, 'LUCIANO4'
SELECT @L_COD_DEE, @x


---------------------------------------------------------------

DECLARE @L_COD_DESCRITOR INTEGER
SELECT @L_COD_DESCRITOR = 2181
exec dbo.PCOM_C_DES1PR  'A', @L_COD_DESCRITOR OUTPUT, 'LUCIANO2', 'S', 1, NULL
SELECT @L_COD_DESCRITOR

SELECT * FROM TCOM_DES1PR ORDER BY 1 DESC

DECLARE @L_COD_DEE INTEGER
SELECT @L_COD_DEE = 32359
EXEC dbo.PCOM_C_DEE1PR 'A', @L_COD_DEE OUTPUT, 3, 'LUCIANO2'
SELECT @L_COD_DEE

SELECT * FROM TCOM_DEE1PR WHERE PROS_COD = 3


SELECT TOP 3 * FROM TCOM_DES1PR ORDER BY 1 DESC

SELECT * FROM TCOM_PROSER WHERE LTRIM(RTRIM(PROS_EXT_COD)) = '4024'

SELECT * FROM TCOM_DEP1PR WHERE PROS_COD = 2209 AND DES1_COD = 2232

SELECT * FROM TCOM_DEE1PR WHERE PROS_COD = 2209



-----------------


SELECT TOP 3 * FROM TCOM_DES1PR ORDER BY 1 DESC

SELECT * FROM TCOM_PROSER WHERE LTRIM(RTRIM(PROS_EXT_COD)) = 'W10169137'

SELECT * FROM TCOM_DEP1PR WHERE PROS_COD = 2209 AND DES1_COD = 2232

SELECT * FROM TCOM_DEE1PR WHERE PROS_COD = 2209


delete from TCOM_DEP2PR
delete from TCOM_DEE2PR
delete from TCOM_DES2PR

select  * from TCOM_DEP2PR order by 1 desc
select * from TCOM_DEE2PR order by 1 desc
select  * from TCOM_DES2PR order by 1 desc

select  * from TCOM_DEP2PR where PROS_COD = 4323
select * from TCOM_DEE2PR where PROS_COD = 4323
select  * from TCOM_DES2PR order by 1 desc

